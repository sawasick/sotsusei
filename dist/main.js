(()=>{var t={251:()=>{$("body").prepend('\n<style>body{min-width:600px !important}.webgazerVideoContainer{display:block;position:fixed !important;top:0px !important;left:0px !important;width:320px !important;height:240px !important;z-index:10000}.calibrationDiv{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(255,255,255,.8);z-index:9999}.Calibration{width:26px;height:26px;border-radius:25px;background-color:#f60509;border-color:#f60509;border-style:solid;position:fixed;cursor:crosshair;font-weight:bold;color:#fff}#Pt1{top:70px;left:340px}#Pt2{top:70px;left:50vw}#Pt3{top:70px;right:2vw}#Pt4{top:50vh;left:2vw}#Pt5{top:50vh;left:50vw}#Pt6{top:50vh;right:2vw}#Pt7{bottom:2vw;left:2vw}#Pt8{bottom:2vw;left:50vw}#Pt9{bottom:2vw;right:2vw}.debugInfo{position:fixed;top:0;left:320px;display:flex;z-index:99999}.accuracy{background-color:#222 !important;color:#fff;margin-right:10px}.status{background-color:#222 !important;color:#fff;margin-right:10px}.gazing{background-color:#222 !important;color:#fff}.is-hidden{overflow:hidden}.is-hide{display:none}.is-hide--f{display:none !important}.action{background-color:#ff0}body{margin:0}.box-wrapper{display:flex;flex-wrap:wrap;position:relative;z-index:100}.box{width:16.6666666667%;height:calc((100vh - 50px)/4);font-size:50px}.box1{background-color:#e60012}.box2{background-color:#eb6100}.box3{background-color:#f39800}.box4{background-color:#fcc800}.box5{background-color:#fff100}.box6{background-color:#cfdb00}.box7{background-color:#8fc31f}.box8{background-color:#22ac38}.box9{background-color:#094}.box10{background-color:#009b6b}.box11{background-color:#009e96}.box12{background-color:#00a0c1}.box13{background-color:#00a0e9}.box14{background-color:#0086d1}.box15{background-color:#0068b7}.box16{background-color:#00479d}.box17{background-color:#1d2088}.box18{background-color:#601986}.box19{background-color:#920783}.box20{background-color:#be0081}.box21{background-color:#e4007f}.box22{background-color:#e5006a}.box23{background-color:#e5004f}.box24{background-color:#e60033}.pink{background-color:pink !important}.pale{opacity:.3}.target-info{position:absolute;top:0;left:50%;font-size:40px;font-weight:bold}.count-info{position:absolute;top:0;left:40%;font-size:40px;font-weight:bold}.is-hide{display:none}.pop-overlay{position:fixed;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);z-index:10000;display:flex;align-items:center;justify-content:center}.pop-modal{width:500px;background-color:#fff;text-align:center;border-radius:5px;z-index:10001}@media screen and (max-width: 480px){.pop-modal{width:300px}}.pop-modal button:disabled{opacity:.6}.pop-title{color:#333;font-weight:bold;font-size:27px;margin:0;padding:10px 0}@media screen and (max-width: 480px){.pop-title{font-size:18px;padding:8px 0}}.pop-text{font-size:18px;color:#222;width:82%;margin:0 auto;padding:10px 0;text-align:left}@media screen and (max-width: 480px){.pop-text{font-size:14px;width:84%;line-height:2;padding:8px 0}}.pop-btn{width:65px;height:45px;font-weight:bold;color:#fff;background-color:#007bff;border:none;border-radius:7px;position:relative;left:180px;margin-bottom:12px;cursor:pointer}@media screen and (max-width: 480px){.pop-btn{left:90px}}</style>\n<canvas id="plotting_canvas" width="500" height="500" style="cursor:crosshair;"></canvas>\n<div class="debugInfo">\n  <p id="Accuracy" class="accuracy">キャリブレーションは完了していません</p>\n  <p id="CalibrateStatus" class="status">キャリブレーションステータス</p>\n  <p id="GazingElement" class="gazing">注視している要素 : </p>\n</div>\n\x3c!-- Calibration points --\x3e\n<div id="calibrationDiv" class="calibrationDiv">\n  <input type="button" class="Calibration" id="Pt1" value="5"></input>\n  <input type="button" class="Calibration" id="Pt2" value="5"></input>\n  <input type="button" class="Calibration" id="Pt3" value="5"></input>\n  <input type="button" class="Calibration" id="Pt4" value="5"></input>\n  <input type="button" class="Calibration" id="Pt5" value="5"></input>\n  <input type="button" class="Calibration" id="Pt6" value="5"></input>\n  <input type="button" class="Calibration" id="Pt7" value="5"></input>\n  <input type="button" class="Calibration" id="Pt8" value="5"></input>\n  <input type="button" class="Calibration" id="Pt9" value="5"></input>\n</div>\n\n<div id="helpModal" class="pop-overlay">\n  <div class="pop-modal">\n    <img src="../../image/calibration.png" width="100%" height="100%" alt="webgazer demo instructions">\n    <button id="closeBtn" class="pop-btn" onclick="CancelCalibration()" disabled>閉じる</button>\n    <button id="start_calibration" class="pop-btn" onclick="Restart()" disabled>始める</button>\n  </div>\n</div>\n')},157:()=>{var t=0,o={};function n(){$(".Calibration").hide();var t=document.getElementById("plotting_canvas");t.getContext("2d").clearRect(0,0,t.width,t.height)}$(document).ready((function(){n(),$("body").addClass("is-hidden"),$(".Calibration").click((function(){var i=$(this).attr("id");if(o[i]||(o[i]=5),o[i]--,$(`#${i}`).attr("value",o[i]),0==o[i]?($(this).css("background-color","#23D91E"),$(this).css("border-color","#23D91E"),$(this).attr("value","✔︎"),$(this).prop("disabled",!0),t++):o[i],8==t&&$("#Pt5").show(),t>=9){$(".Calibration").hide(),$("#Pt5").show();var e=document.getElementById("plotting_canvas");e.getContext("2d").clearRect(0,0,e.width,e.height);const i='\n        <div id="js-pop-measure" class="pop-overlay">\n          <div class="pop-modal">\n          <p class="pop-text">OKを押したらマウスを動かさず、<br>真ん中の点を5秒間見つめてください。</p>\n          <button id="js-pop-measure-btn" class="pop-btn" type="submit">OK</button>\n          </div>\n        </div>\n        ';$("body").append(i),$("#js-pop-measure-btn").on("click",(function(){$("#js-pop-measure").remove(),$(document).ready((function(){store_points_variable(),(5e3,new Promise((t=>setTimeout(t,5e3)))).then((()=>{stop_storing_points_variable();var i=webgazer.getStoredPoints(),e=calculatePrecision(i),a="精度 | "+e+"%";document.getElementById("Accuracy").textContent=a;const r=`\n              <div id="js-pop-result" class="pop-overlay">\n                <div class="pop-modal">\n                <p class="pop-text">精度は${e}%です</p>\n                <button id="js-pop-result-btn-cancel" class="pop-btn" type="submit">やり直し</button>\n                <button id="js-pop-result-btn-confirm" class="pop-btn" type="submit">OK</button>\n                </div>\n              </div>\n              `;$("body").append(r),$("#js-pop-result-btn-confirm").on("click",(function(){n(),$("#js-pop-result").remove(),document.body.classList.remove("is-hidden"),document.getElementById("calibrationDiv").classList.add("is-hide"),CalibrationEnd(),CalibrationComplete(),document.getElementById("webgazerVideoContainer").classList.add("is-hide--f"),document.getElementById("plotting_canvas").remove(),csvData.push(location.href),csvData.push("\n"+e),csvData.push("\n"+innerWidth+","+innerHeight),startTime=Date.now()})),$("#js-pop-result-btn-cancel").on("click",(function(){document.getElementById("Accuracy").textContent="キャリブレーションは完了していません",webgazer.clearData(),$(".Calibration").prop("disabled",!1),o={},t=0,n(),$(".Calibration").show(),$("#Pt5").hide()}))}))}))}))}}))}))},693:()=>{window.onload=async function(){var t;webgazer.params.showVideoPreview=!0,await webgazer.setRegression("ridge").setGazeListener((function(t,o){})).saveDataAcrossSessions(!0).begin(),webgazer.showVideoPreview(!0).showPredictionPoints(!0).applyKalmanFilter(!0),(t=document.getElementById("plotting_canvas")).width=window.innerWidth,t.height=window.innerHeight,t.style.position="fixed"},window.saveDataAcrossSessions=!0,window.onbeforeunload=function(){webgazer.end()},window.addEventListener("beforeunload",(function(t){t.preventDefault(),false}))},64:()=>{window.addEventListener("resize",(function(){var t=document.getElementById("plotting_canvas");t.getContext("2d").clearRect(0,0,t.width,t.height),t.width=window.innerWidth,t.height=window.innerHeight}),!1)}},o={};function n(i){var e=o[i];if(void 0!==e)return e.exports;var a=o[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return n.d(o,{a:o}),o},n.d=(t,o)=>{for(var i in o)n.o(o,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:o[i]})},n.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),(()=>{"use strict";n(251),n(693),n(157),n(64)})()})();