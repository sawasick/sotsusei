(()=>{var t={251:()=>{$("body").prepend('\n<link rel="stylesheet" href="../../dist/main.css" />\n\n\x3c!-- TODO: 3.styleはclassで記述 --\x3e\n<canvas id="plotting_canvas" width="500" height="500" style="cursor:crosshair;"></canvas>\n<div class="debugInfo">\n  <p id="Accuracy" class="accuracy">キャリブレーションは完了していません</p>\n  <p id="CalibrateStatus" class="status">キャリブレーションステータス</p>\n  <p id="GazingElement" class="gazing">注視している要素 : </p>\n</div>\n\x3c!-- Calibration points --\x3e\n<div id="calibrationDiv" class="calibrationDiv">\n  <input type="button" class="Calibration" id="Pt1"></input>\n  <input type="button" class="Calibration" id="Pt2"></input>\n  <input type="button" class="Calibration" id="Pt3"></input>\n  <input type="button" class="Calibration" id="Pt4"></input>\n  <input type="button" class="Calibration" id="Pt5"></input>\n  <input type="button" class="Calibration" id="Pt6"></input>\n  <input type="button" class="Calibration" id="Pt7"></input>\n  <input type="button" class="Calibration" id="Pt8"></input>\n  <input type="button" class="Calibration" id="Pt9"></input>\n</div>\n\n<div id="helpModal" class="pop-overlay">\n  <div class="pop-modal">\n    <img src="../../image/calibration.png" width="100%" height="100%" alt="webgazer demo instructions">\n    <button id="closeBtn" class="pop-btn" onclick="CancelCalibration()" disabled>閉じる</button>\n    <button id="start_calibration" class="pop-btn" onclick="Restart()" disabled>始める</button>\n  </div>\n</div>\n')},157:()=>{var t=0,n={};function e(){$(".Calibration").hide();var t=document.getElementById("plotting_canvas");t.getContext("2d").clearRect(0,0,t.width,t.height)}$(document).ready((function(){e(),$("body").addClass("is-hidden"),$(".Calibration").click((function(){var i=$(this).attr("id");if(n[i]||(n[i]=0),n[i]++,5==n[i])$(this).css("background-color","yellow"),$(this).prop("disabled",!0),t++;else if(n[i]<5){var a=.2*n[i]+.2;$(this).css("opacity",a)}if(8==t&&$("#Pt5").show(),t>=9){$(".Calibration").hide(),$("#Pt5").show();var o=document.getElementById("plotting_canvas");o.getContext("2d").clearRect(0,0,o.width,o.height);const i='\n        <div id="js-pop-measure" class="pop-overlay">\n          <div class="pop-modal">\n          <p class="pop-text">OKを押したらマウスを動かさず、<br>真ん中の点を5秒間見つめてください。</p>\n          <button id="js-pop-measure-btn" class="pop-btn" type="submit">OK</button>\n          </div>\n        </div>\n        ';$("body").append(i),$("#js-pop-measure-btn").on("click",(function(){$("#js-pop-measure").remove(),$(document).ready((function(){store_points_variable(),(5e3,new Promise((t=>setTimeout(t,5e3)))).then((()=>{stop_storing_points_variable();var i=webgazer.getStoredPoints(),a=calculatePrecision(i),o="精度 | "+a+"%";document.getElementById("Accuracy").textContent=o;const s=`\n              <div id="js-pop-result" class="pop-overlay">\n                <div class="pop-modal">\n                <p class="pop-text">精度は${a}%です</p>\n                <button id="js-pop-result-btn-cancel" class="pop-btn" type="submit">やり直し</button>\n                <button id="js-pop-result-btn-confirm" class="pop-btn" type="submit">OK</button>\n                </div>\n              </div>\n              `;$("body").append(s),$("#js-pop-result-btn-confirm").on("click",(function(){e(),$("#js-pop-result").remove(),document.body.classList.remove("is-hidden"),document.getElementById("calibrationDiv").classList.add("is-hide"),CalibrationEnd(),document.getElementById("webgazerVideoContainer").classList.add("is-hide--f"),document.getElementById("plotting_canvas").remove()})),$("#js-pop-result-btn-cancel").on("click",(function(){document.getElementById("Accuracy").textContent="キャリブレーションは完了していません",webgazer.clearData(),$(".Calibration").css("background-color","red"),$(".Calibration").css("opacity",.2),$(".Calibration").prop("disabled",!1),n={},t=0,e(),$(".Calibration").show(),$("#Pt5").hide()}))}))}))}))}}))}))},693:()=>{var t;window.onload=async function(){var n;webgazer.params.showVideoPreview=!0,await webgazer.setRegression("ridge").setGazeListener((function(n,e){var i,a,o;null!=n&&(a=n.x,o=n.y,i=document.elementFromPoint(a,o),document.getElementById("GazingElement").textContent="注視している要素 :"+i,null!=i&&(null==t&&(t=i),i.classList.add("action"),i!=t&&(t.classList.remove("action"),0==t.classList.length&&t.removeAttribute("class"),t=i)))})).saveDataAcrossSessions(!0).begin(),webgazer.showVideoPreview(!0).showPredictionPoints(!0).applyKalmanFilter(!0),(n=document.getElementById("plotting_canvas")).width=window.innerWidth,n.height=window.innerHeight,n.style.position="fixed"},window.saveDataAcrossSessions=!0,window.onbeforeunload=function(){webgazer.end()}},64:()=>{window.addEventListener("resize",(function(){var t=document.getElementById("plotting_canvas");t.getContext("2d").clearRect(0,0,t.width,t.height),t.width=window.innerWidth,t.height=window.innerHeight}),!1)}},n={};function e(i){var a=n[i];if(void 0!==a)return a.exports;var o=n[i]={exports:{}};return t[i](o,o.exports,e),o.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{"use strict";e(251),e(693),e(157),e(64)})()})();